# Si Crypto Platform - Production Environment Variables
# This file is for Railway/Production deployment

# ============================================================================
# APPLICATION
# ============================================================================
NODE_ENV=production
PORT=${PORT:-3000}
APP_NAME=Si Crypto Platform
APP_URL=https://api.siapp.com

# ============================================================================
# DATABASE (Railway PostgreSQL - Auto-provided)
# ============================================================================
DATABASE_URL=${DATABASE_URL}
# Railway automatically provides DATABASE_URL

# ============================================================================
# REDIS CACHE (Railway Redis - Auto-provided)
# ============================================================================
REDIS_URL=${REDIS_URL}
# Railway automatically provides REDIS_URL

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# IMPORTANT: Generate strong secrets for production
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# BLOCKCHAIN NODES
# ============================================================================

# Infura (Ethereum) - Sign up at https://www.infura.io/
INFURA_PROJECT_ID=${INFURA_PROJECT_ID}
INFURA_PROJECT_SECRET=${INFURA_PROJECT_SECRET}
INFURA_MAINNET_URL=https://mainnet.infura.io/v3/${INFURA_PROJECT_ID}

# Blockstream (Bitcoin) - FREE
BLOCKSTREAM_API_URL=https://blockstream.info/api

# ============================================================================
# KEY MANAGEMENT
# ============================================================================

# Master Seed Encryption - CRITICAL SECURITY
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
MASTER_SEED_PASSWORD=${MASTER_SEED_PASSWORD}

# ============================================================================
# PRICE FEEDS
# ============================================================================

# CoinGecko API
COINGECKO_BASE_URL=https://api.coingecko.com/api/v3
PRICE_UPDATE_INTERVAL=60000
PRICE_CACHE_TTL=300

# ============================================================================
# EMAIL NOTIFICATIONS
# ============================================================================

# Resend (FREE - 3k emails/month)
RESEND_API_KEY=${RESEND_API_KEY}
EMAIL_FROM=Si Crypto <noreply@siapp.com>
EMAIL_FROM_NAME=Si Crypto

# ============================================================================
# PUSH NOTIFICATIONS
# ============================================================================

# Firebase Cloud Messaging
FIREBASE_SERVER_KEY=${FIREBASE_SERVER_KEY}
FIREBASE_PROJECT_ID=si-crypto-app
FIREBASE_SENDER_ID=${FIREBASE_SENDER_ID}

# ============================================================================
# SECURITY
# ============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=100

# CORS - Add your production domains
CORS_ORIGIN=https://siapp.com,https://www.siapp.com,https://api.siapp.com
CORS_CREDENTIALS=true

# Session
SESSION_SECRET=${SESSION_SECRET}

# ============================================================================
# WITHDRAWAL LIMITS
# ============================================================================

# Tier 1 (No KYC)
TIER_1_DAILY_LIMIT=100
TIER_1_WITHDRAWAL_LIMIT=50

# Tier 2 (Full KYC)
TIER_2_DAILY_LIMIT=10000
TIER_2_WITHDRAWAL_LIMIT=5000

# Tier 3 (Enhanced KYC)
TIER_3_DAILY_LIMIT=100000
TIER_3_WITHDRAWAL_LIMIT=50000

MAX_WITHDRAWALS_PER_DAY=5
WITHDRAWAL_APPROVAL_THRESHOLD=10000

# ============================================================================
# BLOCKCHAIN SETTINGS
# ============================================================================

# Bitcoin
BTC_REQUIRED_CONFIRMATIONS=3
BTC_GAS_FEE_MULTIPLIER=1.5

# Ethereum
ETH_REQUIRED_CONFIRMATIONS=12
ETH_GAS_LIMIT=21000
ETH_MAX_GAS_PRICE=100

# USDC Contract (Ethereum Mainnet)
USDC_CONTRACT_ADDRESS=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48

# PRODUCTION: Use mainnet
TESTNET_MODE=false

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=info

# Sentry (Error Tracking - Recommended)
SENTRY_ENABLED=true
SENTRY_DSN=${SENTRY_DSN}

# ============================================================================
# FEATURE FLAGS
# ============================================================================

FEATURE_SWAPS_ENABLED=true
FEATURE_WITHDRAWALS_ENABLED=true
FEATURE_DEPOSITS_ENABLED=true
FEATURE_PRICE_CHARTS_ENABLED=true

MAINTENANCE_MODE=false

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================

ENABLE_API_DOCS=false
SEED_TEST_DATA=false
DEBUG=false
